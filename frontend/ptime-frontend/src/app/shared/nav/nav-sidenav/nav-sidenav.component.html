<mat-nav-list>

  <ng-container *ngFor="let item of links">

    <!-- Ítem con hijos -->
    <ng-container *ngIf="item.children?.length; else leaf">
      <mat-list-item (click)="toggle(item)">
        <mat-icon matListIcon>{{ item.icon }}</mat-icon>
        <span matLine>{{ item.label }}</span>
        <mat-icon class="ml-auto">
          {{ isOpen(item) ? 'expand_less' : 'expand_more' }}
        </mat-icon>
      </mat-list-item>

      <mat-nav-list *ngIf="isOpen(item)" class="pl-6">
        <a mat-list-item *ngFor="let child of item.children"
           [routerLink]="child.path"
           (click)="close.emit()">
          <mat-icon matListIcon>{{ child.icon }}</mat-icon>
          <span matLine>{{ child.label }}</span>
        </a>
      </mat-nav-list>
    </ng-container>

    <!-- Ítem hoja -->
    <ng-template #leaf>
      <a mat-list-item
         [routerLink]="item.path"
         (click)="close.emit()">
        <mat-icon matListIcon>{{ item.icon }}</mat-icon>
        <span matLine>{{ item.label }}</span>
      </a>
    </ng-template>

  </ng-container>

</mat-nav-list>
